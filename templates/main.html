{% load static %}

<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8">
        <title>Wintering Theory</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="https://kit.fontawesome.com/7076248453.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
        {% if user.is_authenticated %}
        <link rel="stylesheet" type="text/css" href="{% static 'css/effect/user.css' %}">
        {% else %}
        <link rel="stylesheet" type="text/css" href="{% static 'css/effect/guest_user.css' %}">
        {% endif %}
        
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Hahmlet:wght@100..900&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        
        <link rel="shortcut icon" href="{% static 'favicon.ico' %}" />
    </head>
    <body>
        <div class="background"></div> <!-- 흐림 효과를 위한 배경 -->
        {% if user.is_authenticated %}
        {% include "effects/user.html" %}
        {% else %}
        {% include "effects/guest_user.html" %}
        {% endif %}

        
        <div class="background_wrap">
            <div class="background_box">
                <div class="navbar">
                    <img id="wrap_background1" src={% static "img/메인띠.png" %}>
                    <div class="navbar_content">
                        <a href="/"><img src={% static "img/로고.png" %}></a>
                        <nav>
                            <ul class="menu align-center expanded text-center SMN_effect-44">
                            <li><a class="navhover" href="/notice">NOTICE</a></li>
                            <li><a class="navhover" href="/world">WORLD</a></li>
                            <li><a class="navhover" href="/system">SYSTEM</a></li>
                            <li><a class="navhover" href="#"><span onclick="alert('합격자 발표 이후 이용이 가능합니다.')">STORE</span></a></li>
                            <li><a class="navhover" href="#"><span onclick="alert('합격자 발표 이후 이용이 가능합니다.')">MEMBER</span></a></li>
                            </ul> 
                        </nav>
                        <div class="copyright">
                            <p>
                                ⓒ 2024. Wintering Theory<br/>
                                All rights reserved.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="main_wrap">
                    <img id="wrap_background2" src={% static "img/메인배경.png" %}>
                    <div class="main_contents_wrap">
                        <div class="carousel_wrap">
                            <div id="carouselExampleInterval" class="carousel slide carousel-fade" data-ride="carousel">
                                <div class="carousel-inner">
                                    <div class="carousel-item active" data-interval="8000">
                                        <a href="https://url.kr/531v7o" target="_blank"><img src="{% static 'img/공지사항배너.png' %}" class="d-block w-100" alt="..."></a>
                                    </div>
                                    <div class="carousel-item" data-interval="8000">
                                        <a href="https://url.kr/kc3cig" target="_blank"><img src="{% static 'img/세계관배너.png' %}" class="d-block w-100" alt="..."></a>
                                    </div>
                                    <div class="carousel-item" data-interval="8000">
                                        <a href="https://url.kr/ewbvq3" target="_blank"><img src="{% static 'img/시스템배너.png' %}" class="d-block w-100" alt="..."></a>
                                    </div>
                                    <div class="carousel-item" data-interval="8000">
                                        <a href="https://url.kr/bwkysb" target="_blank"><img src="{% static 'img/신청서배너.png' %}" class="d-block w-100" alt="..."></a>
                                    </div>
                                </div>
                                <button class="carousel-control-prev" type="button" data-target="#carouselExampleInterval" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                </button>
                                <button class="carousel-control-next" type="button" data-target="#carouselExampleInterval" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                </button>
                            </div>
                        </div>
    
                        <div class="weather_wrap">
                            <p id="countdown">신청서 접수까지 D-</p>
                        </div>
                        <div class="contents_wrap">                   
                                <a class="qna" href="https://docs.google.com/document/d/1NSzKG74twRQAQ2bYEXLGjRfVFh9bIi_zJkhzRrMsjDI/edit?usp=sharing" target="_blank"><img src={% static "img/qna.png" %}></a>
                                <img class="calender" src={% static "img/10월달력.png" %}>
                                <div class="loginbox">
                                    <form method="post" action="{% url 'users:users_login' %}">
                                        {% csrf_token %}
                                        <div class="inputarea">
                                            <div class="inputbox">
                                                <div>
                                                    <input placeholder="아이디" type="text" name="username" id="username">
                                                  </div>
                                                  <div>
                                                    <input placeholder="비밀번호" type="text" name="password" id="password">
                                                  </div>
                                            </div>
                                            <span onclick="alert('합격자 발표 이후 이용이 가능합니다.')"><input class="loginbtn" type="image" src="{% static 'img/로그인버튼.png' %}"></span>
                                        </div>
                                    </form>
                                    <a href="/signup"><img class="signup" src="{% static 'img/회원가입버튼.png' %}"></img></a>
                                </div>
                        </div>
                    </div>
                    
                </div>     
            </div>
        </div>
        

        {% include "effects/snow.html" %}
    
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const targetDate = new Date("2024-11-07T11:59:59"); // 목표 날짜 설정 (예: 2024년 11월 7일 11:59:59)
    const countdownElement = document.getElementById('countdown'); // countdown ID가 있는 요소를 찾기

    function updateCountdown() {
        const now = new Date();
        const distance = targetDate - now; // 남은 시간 계산

        // 남은 일, 시간, 분, 초 계산
        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        if (distance < 0) {
            countdownElement.textContent = `신청서 접수가 마감되었습니다.`; // 마감일 지나면 메시지 변경
        } else {
            countdownElement.textContent = `신청서 접수 마감까지 D-${days} ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
                }
        
                // 매초 업데이트
                setInterval(updateCountdown, 1000);
                updateCountdown(); // 처음 실행
            });
        </script>
        
        
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
        
    </body>
</html>